# http://www.datypic.com/sc/niem32/
# AIXM GML Profile

@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sh:    <http://www.w3.org/ns/shacl#> .
@prefix gml:   <http://www.opengis.net/gml/3.2#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xlink: <http://www.w3.org/1999/xlink> .

gml:Point
	a gml:PointType ;
	sh:and ( gml:PointType ) .

gml:Envelope 
	a gml:EnvelopeType ;
	sh:and ( gml:EnvelopeType ) .
	
#-------------------------------------------------------------------------------

gml:AbstractGMLType
	a sh:NodeShape , rdfs:Class ;
	sh:property [
		sh:path gml:id ;
		sh:datatype xsd:ID ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] .
	
gml:AbstractGeometryType 
	a sh:NodeShape , rdfs:Class ;
	rdfs:subClassOf gml:AbstractGMLType ;
	sh:and ( gml:SRSReferenceGroup ) .
	
gml:AbstractGeometricPrimitiveType
	a sh:NodeShape , rdfs:Class ;
	rdfs:subClassOf gml:AbstractGeometryType ;
	sh:and ( gml:AbstractGeometryType ) .
	
gml:PointType
	a sh:NodeShape , rdfs:Class ;
	rdfs:subClassOf gml:AbstractGeometricPrimitiveType ;
	sh:and ( gml:AbstractGeometricPrimitiveType ) ;
	sh:property [
		sh:path gml:pos ;
		sh:node gml:DirectPositionType ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
	] .
	
gml:EnvelopeType
	a sh:NodeShape , rdfs:Class ;
	sh:property [
		sh:path gml:lowerCorner ;
		sh:node gml:DirectPositionType ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
	] ; 
	sh:property [
		sh:path gml:upperCorner ;
		sh:node gml:DirectPositionType ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
	] .

#-------------------------------------------------------------------------------

gml:SRSReferenceGroup
	a sh:NodeShape ;
	sh:property [	
		sh:path gml:axisLabels ;
		sh:node gml:NCNameList ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [	
		sh:path gml:srsDimension ;
		sh:datatype xsd:positiveInteger ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [	
		sh:path gml:srsName ;
		sh:datatype xsd:anyURI ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [	
		sh:path gml:uomLabels ;
		sh:node gml:NCNameList ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] .
	
xlink:simpleLink
	a sh:NodeShape ;
	sh:property [
		sh:path xlink:type ;
		sh:datatype xsd:string ;
		sh:value "simple" ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [
		sh:path xlink:href;
		sh:datatype xsd:anyURI ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [ 
		sh:path xlink:role ;
		sh:datatype xsd:anyURI ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [ 
		sh:path xlink:arcrole ;
		sh:datatype xsd:anyURI ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [ 
		sh:path xlink:title ;
		sh:datatype xsd:string ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [ 
		sh:path xlink:show ;
		sh:datatype xsd:string ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [ 
		sh:path xlink:actuate ;
		sh:datatype xsd:string ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] .
	
gml:AssociationAttributeGroup
	a sh:NodeShape ;
	sh:and ( xlink:simpleLink ) ;
	sh:property [
		sh:path gml:nilReason ;
		sh:node gml:NilReasonType ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] ;
	sh:property [
		sh:path gml:remoteSchema ;
		sh:datatype xsd:anyURI ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] .
	
gml:NilReasonType 
	a sh:NodeShape ;
	sh:and ( gml:NilReasonEnumeration ) .
	
gml:NilReasonEnumeration
	a sh:NodeShape ;
	sh:in ("inapplicable" "missing" "template" "unknown" "withheld") ;
	sh:datatype xsd:string .
	
gml:OwnershipAttributeGroup 
	a sh:NodeShape ;
	sh:property [
		sh:path gml:owns ;
		sh:datatype xsd:boolean ;
		sh:value false ;
		sh:minCount 0 ;
		sh:maxCount 1 ;
	] .
	
gml:NCNameList
	a sh:NodeShape ;
	sh:property [
		sh:path rdf:value ;
		sh:datatype xsd:string ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
	] .

gml:DirectPositionType
	a sh:NodeShape ;
	sh:property [
		sh:path rdf:value ;
		sh:datatype xsd:string ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
	] .
	
gml:PointPropertyType 
	a sh:NodeShape ;
	sh:and ( gml:AssociationAttributeGroup gml:OwnershipAttributeGroup ) .